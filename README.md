# IZI Server - –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ SMS

–°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è IZI –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ SMS —á–µ—Ä–µ–∑ Telegram-–±–æ—Ç.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- ü§ñ Telegram-–±–æ—Ç —Å –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
- üíæ –•—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ SMS –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- üîî –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö SMS
- üìä –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö SMS —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ –¥–Ω—è–º
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Node.js
- Express.js
- MongoDB
- Telegraf (–¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Telegram Bot API)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```
   npm install
   ```
3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ:
   ```
   # Telegram Bot —Ç–æ–∫–µ–Ω (–ø–æ–ª—É—á–∏—Ç–µ —É @BotFather)
   BOT_TOKEN=your_telegram_bot_token

   # MongoDB URL
   MONGODB_URI=your_mongodb_connection_string

   # –ü–æ—Ä—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
   PORT=3000

   # Admin user ID –≤ Telegram (—É–∑–Ω–∞–π—Ç–µ —Å–≤–æ–π ID —É @userinfobot)
   ADMIN_USER_ID=your_telegram_id
   ```

## –ó–∞–ø—É—Å–∫

–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```
npm run dev
```

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω:
```
npm start
```

## API Endpoints

### POST /api/register-device
–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤ —Å–∏—Å—Ç–µ–º–µ.

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "deviceId": "unique_device_id",
  "deviceModel": "Samsung Galaxy S21",
  "androidVersion": "Android 12",
  "simCards": [
    {
      "slotIndex": 0,
      "phoneNumber": "+1234567890",
      "operatorName": "Operator 1",
      "simId": "sim_card_id_1"
    },
    {
      "slotIndex": 1,
      "phoneNumber": "+0987654321",
      "operatorName": "Operator 2",
      "simId": "sim_card_id_2"
    }
  ]
}
```

### POST /api/send-sms
–ü–æ–ª—É—á–∞–µ—Ç –Ω–æ–≤–æ–µ SMS-—Å–æ–æ–±—â–µ–Ω–∏–µ.

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "sender": "+1234567890",
  "text": "Hello, this is a test message",
  "timestamp": "2023-07-01T12:00:00.000Z",
  "simSlot": 0,
  "deviceId": "unique_device_id"
}
```

### POST /api/send-all-sms
–ü–æ–ª—É—á–∞–µ—Ç –º–∞—Å—Å–∏–≤ SMS-—Å–æ–æ–±—â–µ–Ω–∏–π.

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
[
  {
    "sender": "+1234567890",
    "text": "Message 1",
    "timestamp": "2023-07-01T12:00:00.000Z",
    "simSlot": 0,
    "deviceId": "unique_device_id"
  },
  {
    "sender": "+0987654321",
    "text": "Message 2",
    "timestamp": "2023-07-01T12:05:00.000Z",
    "simSlot": 1,
    "deviceId": "unique_device_id"
  }
]
```

## Telegram-–±–æ—Ç

–ë–æ—Ç –∏–º–µ–µ—Ç –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∏–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫–∞–º–∏. –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
- –ü—Ä–æ—Å–º–æ—Ç—Ä SMS-—Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö SMS —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- –£–¥–∞–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏–∑ —Å–∏—Å—Ç–µ–º—ã

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Render

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π Web Service –Ω–∞ Render
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å GitHub
3. –£–∫–∞–∂–∏—Ç–µ —Ç–∏–ø –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: Node
4. –£–∫–∞–∂–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –¥–ª—è —Å–±–æ—Ä–∫–∏: `npm install`
5. –£–∫–∞–∂–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –¥–ª—è –∑–∞–ø—É—Å–∫–∞: `npm start`
6. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ —Ñ–∞–π–ª–∞ `.env`

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT 